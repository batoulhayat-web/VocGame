<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='utf-8'/>
<meta name='viewport' content='width=device-width, initial-scale=1'/>
<title>Pastel Vocab Match ‚Äî Part 2 (Certificate)</title>
<style>
:root{--bg1:#fffafc;--bg2:#f0faff;--mint:#c9f5df;--sky:#bfe4ff;--peach:#ffe0c2;--lilac:#e7d9ff;--rose:#ffd6e7}
*{box-sizing:border-box}body{margin:0;font-family:'Poppins',sans-serif;background:linear-gradient(145deg,var(--bg1),var(--bg2));}
.wrap{max-width:880px;margin:auto;padding:20px}.app{background:#fff;border-radius:24px;box-shadow:0 8px 24px rgba(0,0,0,.08);padding:20px;}
header{display:flex;justify-content:space-between;align-items:center}h1{font-size:1.3rem;margin:0;color:#333}
.name-entry{margin-top:15px;display:flex;gap:10px;flex-wrap:wrap}input{flex:1;padding:10px;border-radius:10px;border:2px solid var(--sky)}
button{border:none;padding:10px 14px;border-radius:10px;font-weight:600;cursor:pointer;box-shadow:0 4px 10px rgba(0,0,0,.08)}
.btn-start{background:linear-gradient(135deg,var(--rose),var(--sky))}.btn-small{background:linear-gradient(135deg,var(--mint),var(--peach))}
.card{background:#fff;border:2px solid #eef2ff;border-radius:16px;padding:16px;margin-top:12px}
.q-card{display:flex;align-items:center;gap:12px;background:linear-gradient(180deg,#fff,#f7f8ff);border:2px dashed #eae6ff}
.q-emoji{font-size:36px}.choices{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:10px}
.choice{border:2px solid #eef2ff;border-radius:14px;padding:14px;background:#fff;font-size:18px;display:flex;justify-content:center;align-items:center;}
.choice:hover{box-shadow:0 6px 14px rgba(0,0,0,.06)}.choice.correct{background:linear-gradient(180deg,#fff,#eaffea);border-color:#8ae18a}
.choice.wrong{background:linear-gradient(180deg,#fff,#fff2f5);border-color:#ff9aa2}
.watermark{position:fixed;right:12px;bottom:10px;background:rgba(255,255,255,.8);padding:6px 10px;border-radius:999px;font-weight:700;opacity:.7;border:1px solid #eee}
.noscript{max-width:880px;margin:12px auto;background:#fff3cd;border:1px solid #ffeeba;padding:12px 14px;border-radius:10px;color:#7c5800}
.modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.35);padding:20px}
.modal.show{display:grid}.box{background:#fff;border-radius:22px;max-width:760px;width:100%;padding:22px;box-shadow:0 20px 60px rgba(0,0,0,.2)}
.cert{display:grid;place-items:center;background:#fff0f5;padding:16px;border-radius:18px;border:2px dashed #ffd6e7}
canvas{max-width:100%;border-radius:12px;border:2px solid #fce7f3;background:#fff}
</style>
</head>
<body>
<noscript><div class='noscript'>This game needs JavaScript. Please open in Chrome/Safari/Edge and enable JavaScript.</div></noscript>
<div class='wrap'><div class='app'>
<header><h1>üå∏ Pastel Vocabulary Match ‚Äî Unit 3 (Part 2)</h1><div style='font-size:20px'>üê¢üóëÔ∏èüëÄ‚ò†Ô∏èüå¶Ô∏èüí≠ü§≤üß†üåç</div></header>
<section class='name-entry'>
  <input id='playerName' type='text' placeholder='Write your name to begin‚Ä¶'>
  <button class='btn-start' id='btnStart' type='button'>Start ‚ñ∂</button>
  <button class='btn-small' id='btnReset' type='button'>‚Üª Reset</button>
</section>
<section id='welcome' class='card'><h2>How to Play</h2><p>Read the definition and click the correct word. Finish all questions to get your certificate üéâ</p></section>
<section id='gameArea' hidden>
  <div class='card q-card'><div class='q-emoji' id='qEmoji'>üåç</div><div id='qText'>Which word matches this meaning?</div></div>
  <div class='card'><div class='choices' id='choices'></div></div>
</section>
</div></div>
<div class='watermark'>Miss Batool</div>

<!-- Certificate Modal -->
<div class='modal' id='modal'><div class='box'>
  <h2>üèÜ Your Certificate is ready!</h2>
  <div class='cert'><canvas id='certCanvas' width='1200' height='800' aria-label='Certificate canvas'></canvas></div>
  <div style='display:flex;gap:10px;flex-wrap:wrap;margin-top:10px'>
    <button class='btn-small' id='btnDownload' type='button'>Download Certificate</button>
    <button class='btn-small' id='btnClose' type='button'>Close</button>
  </div>
</div></div>

<script>(function(){'use strict';
function init(){
// Part 2 words ‚Äî each appears exactly once
const WORDS=[
  {word:'endangered',emoji:'üê¢',def:'animals or plants that may disappear forever'},
  {word:'waste',emoji:'üóëÔ∏è',def:'things we throw away or use without care'},
  {word:'notice',emoji:'üëÄ',def:'to see or become aware of something'},
  {word:'pollution',emoji:'‚ò†Ô∏è',def:'dirty air, water, or land that harms life'},
  {word:'climate',emoji:'üå¶Ô∏è',def:'the usual weather of a place over time'},
  {word:'remind',emoji:'üí≠',def:'to help someone remember something'},
  {word:'gently',emoji:'ü§≤',def:'in a soft and careful way'},
  {word:'wisely',emoji:'üß†',def:'in a smart and careful way'},
  {word:'natural resources',emoji:'üåç',def:'things we get from nature like water, oil, trees'}
];
let questions=[]; // will be a shuffled copy of WORDS with unique entries
let qIndex=0, playerName='';
const $=(s)=>document.querySelector(s);
const qText=$('#qText'), qEmoji=$('#qEmoji'), choicesEl=$('#choices');

function shuffle(a){for(let i=a.length-1;i>0;i--){const j=(Math.random()*(i+1))|0; [a[i],a[j]]=[a[j],a[i]];}return a;}

function makeQuestionsUnique(){
  // Copy words and shuffle to create one question per word
  questions = shuffle(WORDS.slice());
}

function getChoicesFor(word){
  // 3 wrong options + 1 correct
  const pool = WORDS.filter(w=>w.word!==word.word).map(w=>w.word);
  const wrongs = [];
  while(wrongs.length<3){
    const pick = pool[(Math.random()*pool.length)|0];
    if(!wrongs.includes(pick)) wrongs.push(pick);
  }
  return shuffle([word.word, ...wrongs]);
}

function render(){
  if(qIndex>=questions.length){ showCertificate(); return; }
  const q = questions[qIndex];
  qText.textContent = q.def + '. Which word is this?';
  qEmoji.textContent = q.emoji;
  choicesEl.innerHTML='';
  const opts = getChoicesFor(q);
  opts.forEach(choice=>{
    const btn=document.createElement('button');
    btn.className='choice'; btn.type='button'; btn.textContent=choice;
    btn.onclick=()=>{
      if(choice===q.word){
        btn.classList.add('correct');
        [...document.querySelectorAll('.choice')].forEach(b=>b.disabled=true);
        setTimeout(()=>{ qIndex++; render(); }, 550);
      }else{
        btn.classList.add('wrong');
      }
    };
    choicesEl.appendChild(btn);
  });
}

function start(){
  playerName = (document.getElementById('playerName').value||'Student').trim().slice(0,28);
  makeQuestionsUnique(); // exactly once per word
  qIndex=0;
  document.getElementById('welcome').hidden=true;
  document.getElementById('gameArea').hidden=false;
  render();
}

function reset(){
  document.getElementById('welcome').hidden=false;
  document.getElementById('gameArea').hidden=true;
}

// Certificate
function drawCertificate(){
  const c=document.getElementById('certCanvas'); const ctx=c.getContext('2d');
  const grad=ctx.createLinearGradient(0,0,c.width,c.height); grad.addColorStop(0,'#fff5fb'); grad.addColorStop(1,'#f0fffe');
  ctx.fillStyle=grad; ctx.fillRect(0,0,c.width,c.height);
  ctx.strokeStyle='#ffd6e7'; ctx.lineWidth=14; ctx.strokeRect(20,20,c.width-40,c.height-40);
  ctx.fillStyle='#334155'; ctx.font='bold 56px "Segoe UI", Arial'; ctx.textAlign='center';
  ctx.fillText('Certificate of Participation', c.width/2, 140);
  ctx.font='28px "Segoe UI", Arial'; ctx.fillStyle='#64748b'; ctx.fillText('Awarded to', c.width/2, 210);
  ctx.fillStyle='#111827'; ctx.font='bold 72px "Segoe UI", Arial'; ctx.fillText(playerName||'Student', c.width/2, 300);
  ctx.fillStyle='#334155'; ctx.font='28px "Segoe UI", Arial'; ctx.fillText('For completing the Pastel Vocabulary Match (Part 2)', c.width/2, 360);
  ctx.font='48px "Segoe UI Emoji"'; ctx.fillText('üê¢ üóëÔ∏è üëÄ ‚ò†Ô∏è üå¶Ô∏è üí≠ ü§≤ üß† üåç', c.width/2, 470);
  ctx.strokeStyle='#cbd5e1'; ctx.lineWidth=2; ctx.beginPath(); ctx.moveTo(180, 560); ctx.lineTo(520,560); ctx.stroke();
  ctx.beginPath(); ctx.moveTo(c.width-520, 560); ctx.lineTo(c.width-180,560); ctx.stroke();
  ctx.fillStyle='#64748b'; ctx.font='20px "Segoe UI", Arial'; ctx.fillText('Miss Batool (Teacher)', 350, 590);
  const d=new Date(); ctx.fillText('Date: '+d.toLocaleDateString(), c.width-350, 590);
  ctx.fillStyle='#94a3b8'; ctx.font='18px Arial'; ctx.fillText('Unit 3 ¬∑ Our Environment is in Danger ¬∑ Vocabulary Part 2', c.width/2, 740);
}
function showCertificate(){ drawCertificate(); document.getElementById('modal').classList.add('show'); }
function downloadCertificate(){ const link=document.createElement('a'); link.download='Certificate-'+(playerName||'Student').replace(/\s+/g,'_')+'.png'; link.href=document.getElementById('certCanvas').toDataURL('image/png'); link.click(); }

document.getElementById('btnStart').addEventListener('click', start);
document.getElementById('btnReset').addEventListener('click', reset);
document.getElementById('btnClose').addEventListener('click', function(){document.getElementById('modal').classList.remove('show');});
document.getElementById('btnDownload').addEventListener('click', downloadCertificate);
}
if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',init);}else{init();}
})();</script>
</body>
</html>
